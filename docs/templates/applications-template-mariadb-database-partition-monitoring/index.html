<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Zabbix DB Partitions</title>
  <link rel="stylesheet" href="/community-templates/assets/css/styles.css">
  <script src="/community-templates/assets/js/jquery.min.js"></script>
</head>

<body id="body">
  
  
  <a href="https://github.com/zabbix/community-templates/tree/main/Applications/template_mariadb_database_partition_monitoring">
  <section class="banner-integrations">
	<div class="w container conference-header" id="training_overview" style="padding-top: 60px; min-height: 150px;">
		<div class="banner-content" style="padding-left: 0; padding-bottom: 16px;">
			<h1 class="h1 center">Zabbix DB Partitions</h1>
		</div>
		<!-- <div class="w container">
			<div class="content text">
				<div class="grid grid-space-category center">
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:databases </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:infrastructure </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">title:Database monitoring </a>
					</div>
					
				</div>
			</div>
		</div> -->
	</div>
</section>
  </a>
  <div class="w container">
    <h2 class="h2">Available versions</h2>
    <br>
    <div class="tabs-section">
      <div id="integrations_tabs" class="tabs">
        <ul>
          
          
          <li>
            <a class="js_tab" id="ver_5_0" href="#body">ver. 5.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_5_4" href="#body">ver. 5.4
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <br>
    <br>
              
      <div id="content_ver_5_0" class="readme">
        
        



<h1 id="zabbix-db-partitions">Zabbix DB Partitions</h1>

<h2 id="overview">Overview</h2>

<p>This template create items to monitor 5 days worth of partitions have been created for your database. This template is intended to be used for the Zabbix Database partitions, however could be modified to check for any database partitions.</p>

<p>Install Steps:</p>

<ul>
  <li>
    <p>Import template into Zabbix 3.2 or &gt;</p>
  </li>
  <li>
    <p>Set the {$PASSWORD} Macro to the password for the account which will be preforming the check</p>
  </li>
  <li>
    <p>Update EACH item to have the user that will be preforming the check, Default==Root</p>
  </li>
  <li>
    <p>Update the ls path used in each item for the correct path to your DB</p>
  </li>
  <li>
    <p>Apply to each of your DB hosts in Zabbix</p>
  </li>
</ul>

<p><img src="https://www.thinksis.com/images/header/logo.jpg" alt="Software Information Systems" /></p>

<h2 id="author">Author</h2>

<p>SIS</p>

<h2 id="macros-used">Macros used</h2>

<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$PASSWORD}|&lt;p&gt;-&lt;/p&gt;|``|Text macro|</p>
<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected">Items collected</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|Third Daily Partition Count|&lt;p&gt;ls /var/lib/mysql/zabbixdb | grep -c $(date -d “$(date +%F)”+Xdays “+%Y%m%d”) Workflow 1. List the content of the /var/lib/mysql/zabbixdb folder 2. Print the grep count of current date, + X days ahead, printing the format like the partition file name.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc3,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|
|Fifth Daily Partition Count|&lt;p&gt;ls /var/lib/mysql/zabbixdb | grep -c $(date -d “$(date +%F)”+Xdays “+%Y%m%d”) Workflow 1. List the content of the /var/lib/mysql/zabbixdb folder 2. Print the grep count of current date, + X days ahead, printing the format like the partition file name.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc5,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|
|Fourth Daily Partition Count|&lt;p&gt;ls /var/lib/mysql/zabbixdb | grep -c $(date -d “$(date +%F)”+Xdays “+%Y%m%d”) Workflow 1. List the content of the /var/lib/mysql/zabbixdb folder 2. Print the grep count of current date, + X days ahead, printing the format like the partition file name.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc4,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|
|Tomorrow Daily Partition Count|&lt;p&gt;ls /var/lib/mysql/zabbixdb | grep -c $(date -d “$(date +%F)”+Xdays “+%Y%m%d”) Workflow 1. List the content of the /var/lib/mysql/zabbixdb folder 2. Print the grep count of current date, + X days ahead, printing the format like the partition file name.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc1,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|
|Current Daily Partition count|&lt;p&gt;Gets the current count of the number of daily partitions in the /var/lib/mysql/zabbixdb, this will need to be adjusted to fit your environment.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|</p>
<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>


      </div>
              
      <div id="content_ver_5_4" class="readme">
        
        



<h1 id="zabbix-db-partitions">Zabbix DB Partitions</h1>

<h2 id="overview">Overview</h2>

<p>This template create items to monitor 5 days worth of partitions have been created for your database. This template is intended to be used for the Zabbix Database partitions, however could be modified to check for any database partitions.</p>

<p>Install Steps:</p>

<ul>
  <li>
    <p>Import template into Zabbix 3.2 or &gt;</p>
  </li>
  <li>
    <p>Set the {$PASSWORD} Macro to the password for the account which will be preforming the check</p>
  </li>
  <li>
    <p>Update EACH item to have the user that will be preforming the check, Default==Root</p>
  </li>
  <li>
    <p>Update the ls path used in each item for the correct path to your DB</p>
  </li>
  <li>
    <p>Apply to each of your DB hosts in Zabbix</p>
  </li>
</ul>

<p><img src="https://www.thinksis.com/images/header/logo.jpg" alt="Software Information Systems" /></p>

<h2 id="author">Author</h2>

<p>SIS</p>

<h2 id="macros-used">Macros used</h2>

<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$PASSWORD}|&lt;p&gt;-&lt;/p&gt;|``|Text macro|</p>
<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected">Items collected</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|Tomorrow Daily Partition Count|&lt;p&gt;ls /var/lib/mysql/zabbixdb | grep -c $(date -d “$(date +%F)”+Xdays “+%Y%m%d”) Workflow 1. List the content of the /var/lib/mysql/zabbixdb folder 2. Print the grep count of current date, + X days ahead, printing the format like the partition file name.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc1,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|
|Current Daily Partition count|&lt;p&gt;Gets the current count of the number of daily partitions in the /var/lib/mysql/zabbixdb, this will need to be adjusted to fit your environment.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|
|Fifth Daily Partition Count|&lt;p&gt;ls /var/lib/mysql/zabbixdb | grep -c $(date -d “$(date +%F)”+Xdays “+%Y%m%d”) Workflow 1. List the content of the /var/lib/mysql/zabbixdb folder 2. Print the grep count of current date, + X days ahead, printing the format like the partition file name.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc5,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|
|Fourth Daily Partition Count|&lt;p&gt;ls /var/lib/mysql/zabbixdb | grep -c $(date -d “$(date +%F)”+Xdays “+%Y%m%d”) Workflow 1. List the content of the /var/lib/mysql/zabbixdb folder 2. Print the grep count of current date, + X days ahead, printing the format like the partition file name.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc4,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|
|Third Daily Partition Count|&lt;p&gt;ls /var/lib/mysql/zabbixdb | grep -c $(date -d “$(date +%F)”+Xdays “+%Y%m%d”) Workflow 1. List the content of the /var/lib/mysql/zabbixdb folder 2. Print the grep count of current date, + X days ahead, printing the format like the partition file name.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SSH agent</code>|ssh.run[dpc3,{HOST.HOST},22,]&lt;p&gt;Update: 30s&lt;/p&gt;|</p>
<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>


      </div>
    
    <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    this.page.url = "https://zabbix.github.io/community-templates/templates/applications-template-mariadb-database-partition-monitoring/"; 
    this.page.identifier = "applications-template-mariadb-database-partition-monitoring"; 
    };
    (function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://zabbix-github-io-community-templates.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  <script>
    (function(){  
      console.log('#content_ver_5_4');
      console.log('#ver_5_4');
      $('.readme').hide();
      $('#content_ver_5_4').fadeIn('slow');
      $('#ver_5_4').addClass('active');

                
        $('#ver_5_0').click(function() {
        $('.readme').hide();
        $('#content_ver_5_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_0').addClass('active');
        })
                
        $('#ver_5_4').click(function() {
        $('.readme').hide();
        $('#content_ver_5_4').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_4').addClass('active');
        })
      
    })();
</script>
</body>
</html>