<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>App Elasticsearch Cluster new</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>

<body id="body">
  
  
  <a href="https://github.com/zabbix/community-templates/tree/main/Applications/template_elasticsearch">
  <section class="banner-integrations">
	<div class="w container conference-header" id="training_overview" style="padding-top: 60px; min-height: 150px;">
		<div class="banner-content" style="padding-left: 0; padding-bottom: 16px;">
			<h1 class="h1 center">App Elasticsearch Cluster new</h1>
		</div>
		<!-- <div class="w container">
			<div class="content text">
				<div class="grid grid-space-category center">
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:search </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:services </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">title:Elasticsearch </a>
					</div>
					
				</div>
			</div>
		</div> -->
	</div>
</section>
  </a>
  <div class="w container">
    <h2 class="h2">Available versions</h2>
    <br>
    <div class="tabs-section">
      <div id="integrations_tabs" class="tabs">
        <ul>
          
          
          <li>
            <a class="js_tab" id="ver_5_0" href="#body">ver. 5.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_5_4" href="#body">ver. 5.4
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <br>
    <br>
              
      <div id="content_ver_5_0" class="readme">
        
        



<h1 id="app-elasticsearch-cluster-new">App Elasticsearch Cluster new</h1>

<h2 id="overview">Overview</h2>

<h1 id="elasticsearch-zabbix-monitoring"><strong>ElasticSearch Zabbix monitoring</strong></h1>

<h4 id="script-free-zabbix-es-monitoring">Script-free Zabbix ES monitoring</h4>

<p>This template monitores all ES cluster using Zabbix 4.x HTTP Agent resource.</p>

<p>This allows check ES being OnPremise or PAAS (AWS Elasticsearch, for example) without additional scripts.</p>

<h3 id="requisites">Requisites:</h3>

<ul>
  <li>ES available for Zabbix server or a Zabbix proxy. That’s all.</li>
  <li>ES Endpoints can be adjusted on template macro.</li>
</ul>

<h3 id="discovers"><strong>Discovers:</strong></h3>

<ul>
  <li>ES Indexes discovery<br />
ES Node discovery</li>
</ul>

<h3 id="monitored-items"><strong>Monitored Items:</strong></h3>

<ul>
  <li>Shards</li>
  <li>Cluster Rate</li>
  <li>Cluster Latency</li>
  <li>Cluster Health</li>
  <li>JVM Stats</li>
  <li>Disk Status</li>
  <li>Snapshot status</li>
  <li>ES Port</li>
  <li>Memory</li>
  <li>Documents (searchable, deleted)</li>
</ul>

<h2 id="author">Author</h2>

<p>Rickk Barbosa (https://github.com/rickkbarbosa)</p>

<h2 id="macros-used">Macros used</h2>

<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$ELASTICSEARCH_HEAPMEM_P2}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">75</code>|Text macro|
|{$ELASTICSEARCH_HOST}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">localhost</code>|Text macro|
|{$ELASTICSEARCH_PORT}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">9200</code>|Text macro|
|{$ELASTICSEARCH_PROTOCOL}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">http</code>|Text macro|
|{$ELASTICSEARCH_SNAPSHOT}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">cs-automated-enc</code>|Text macro|
|{$ELASTICSEARCH_SNAPSHOTP_DAYS}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">3</code>|Text macro|</p>
<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|ES Indexes discovery|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-indices.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.discovery.indexes&lt;p&gt;Update: 1m&lt;/p&gt;|
|ES Node discovery|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-nodes.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.discovery.nodes&lt;p&gt;Update: 1m&lt;/p&gt;|</p>
<h2 id="items-collected">Items collected</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|Elasticsearch - Search rate|&lt;p&gt;Search operations per minute.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.performance[search]&lt;p&gt;Update: 0&lt;/p&gt;|
|Number of nodes|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[number_of_nodes]&lt;p&gt;Update: 0&lt;/p&gt;|
|Searchable documents|&lt;p&gt;Total Number of Records&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.records&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Indexing latency (ms)|&lt;p&gt;Average time that it takes a shard to complete and indexing operation&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.performance[latency,index]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Indices Global Status|&lt;p&gt;Indices level stats provide statistics on different operations happening on an index. The API provides statistics on the index level scope (though most stats can also be retrieved using node level scope). Base for key performance indicator https://www.elastic.co/guide/en/elasticsearch/reference/6.4/indices-stats.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.indices[all,stats]&lt;p&gt;Update: 1m&lt;/p&gt;|
|Elasticsearch JVM Heap (Used, Percent)|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/heap-size.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|elasticsearch.jvm[heap,usedp]&lt;p&gt;Update: 5m&lt;/p&gt;|
|Elasticsearch Cluster UUID|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[uuid]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Disk Volume|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.disk[all]&lt;p&gt;Update: 10m&lt;/p&gt;|
|Elasticsearch Well-done Snapshots in last {$ELASTICSEARCH_SNAPSHOTP_DAYS} days|&lt;p&gt;Total snapshots in the last {$ELASTICSEARCH_SNAPSHOTP_DAYS} days that has been succeed&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.snapshots[ok]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch JVM Heap (Used, bytes)|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/heap-size.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.jvm[heap,used]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch port listen|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Simple check</code>|net.tcp.service[tcp,{$ELASTICSEARCH_HOST},{$ELASTICSEARCH_PORT}]&lt;p&gt;Update: 1m&lt;/p&gt;|
|Elasticsearch - Number of active primary shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[active_primary_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Cluster Health|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.cluster[all,health]&lt;p&gt;Update: 1m&lt;/p&gt;|
|Elasticsearch Memory Free (%)|&lt;p&gt;Free memory in cluster (in percent)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|elasticsearch.memory[free,cluster,percentage]&lt;p&gt;Update: 5m&lt;/p&gt;|
|Elasticsearch - Search latency (ms)|&lt;p&gt;Average time that takes a shard to complete a search operation&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.performance[latency,search]&lt;p&gt;Update: 0&lt;/p&gt;|
|ES Snapshot Status|&lt;p&gt;A snapshot is a backup taken from a running Elasticsearch cluster. This presents how many snapshots exists in the last 3 days and how many has been succeed. https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-snapshots.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.snapshots[stats]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Elasticsearch - Cluster Status|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[status]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Disk Free (%)|&lt;p&gt;Free disk volume (in percent)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|elasticsearch.disk[free,percent]&lt;p&gt;Update: 5m&lt;/p&gt;|
|Elasticsearch Disk Volume Total|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.disk[total]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Disk Volume Free|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.disk[free]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch CPU Usage|&lt;p&gt;CPU Usage in percent on Cluster. It checks all node.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cpu&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Memory (Cluster)|&lt;p&gt;Total memory (sum of all nodes)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.memory[total,cluster]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Cluster Name|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[name]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of active shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[active_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of initializing shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[initializing_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Cluster Global Status|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.cluster[all,stats]&lt;p&gt;Update: 1m&lt;/p&gt;|
|Elasticsearch Memory (Average per Node)|&lt;p&gt;Total memory (sum of all nodes)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|elasticsearch.cluster.memory[total,pernode]&lt;p&gt;Update: 5m&lt;/p&gt;|
|Elasticsearch - Number of data nodes|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[cluster,number_of_data_nodes]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of relocating shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[relocating_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch JVM Heap (Max)|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/heap-size.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.jvm[heap,max]&lt;p&gt;Update: 0&lt;/p&gt;|
|Deleted documents|&lt;p&gt;Total Number of Records marked for deletion&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.deleted&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Indexing rate|&lt;p&gt;Number of index operations per minute.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.performance[index]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch JVM Version|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.jvm[version]&lt;p&gt;Update: 0&lt;/p&gt;|
|Master instance connection status|&lt;p&gt;Master instance connection status. Indicates whether data nodes can reach the master node. Failures are usually the result of a network connectivity problem.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[discovered_master]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Snapshots in last {$ELASTICSEARCH_SNAPSHOTP_DAYS} days|&lt;p&gt;Total snapshots in the last 3 days&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.snapshots[total]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of unassigned shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[unassigned_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Cluster Size|&lt;p&gt;Total cluster size in bytes&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[size]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch version|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.version&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Memory Free|&lt;p&gt;Free memory on cluster (sum of all nodes)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.memory[free,cluster]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch index full info [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.index[all,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index documents [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[documents,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index documents deleted [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[documentsdeleted,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index health [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[health,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index latency [ {#ELASTICSEARCH_INDEX} ]  (ms)|&lt;p&gt;Average time that takes a shard to complete a search operation. Specific for a index.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[latency,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch queries [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;Number of queries on this index&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[queries,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index query latency [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;Search time in this index&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[querylatency,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index size [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[size,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch full allocation info [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;Provides a snapshot of the number of shards allocated to each data node and their disk space. https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.node.disk[all,{#ELASTICSEARCH_NODE}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch node [ {#ELASTICSEARCH_NODE} ] is master?|&lt;p&gt;Get information about master node. https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-master.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.node.master[{#ELASTICSEARCH_NODE}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch full stats for node [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;Full stats for specific node as seen on https://www.elastic.co/guide/en/elasticsearch/reference/6.2/cluster-nodes-stats.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.node.query_cache[all,{#ELASTICSEARCH_NODE}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch CPU Load (1min)  [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.node[cpu1m,{#ELASTICSEARCH_NODE}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch Storage Total [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.node[disk,{#ELASTICSEARCH_NODE},total]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch Storage Used (in %) [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.node[disk,{#ELASTICSEARCH_NODE},usedp]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch Storage Used [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.node[disk,{#ELASTICSEARCH_NODE},used]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|</p>
<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>


      </div>
              
      <div id="content_ver_5_4" class="readme">
        
        



<h1 id="app-elasticsearch-cluster-new">App Elasticsearch Cluster new</h1>

<h2 id="overview">Overview</h2>

<h1 id="elasticsearch-zabbix-monitoring"><strong>ElasticSearch Zabbix monitoring</strong></h1>

<h4 id="script-free-zabbix-es-monitoring">Script-free Zabbix ES monitoring</h4>

<p>This template monitores all ES cluster using Zabbix 4.x HTTP Agent resource.</p>

<p>This allows check ES being OnPremise or PAAS (AWS Elasticsearch, for example) without additional scripts.</p>

<h3 id="requisites">Requisites:</h3>

<ul>
  <li>ES available for Zabbix server or a Zabbix proxy. That’s all.</li>
  <li>ES Endpoints can be adjusted on template macro.</li>
</ul>

<h3 id="discovers"><strong>Discovers:</strong></h3>

<ul>
  <li>ES Indexes discovery<br />
ES Node discovery</li>
</ul>

<h3 id="monitored-items"><strong>Monitored Items:</strong></h3>

<ul>
  <li>Shards</li>
  <li>Cluster Rate</li>
  <li>Cluster Latency</li>
  <li>Cluster Health</li>
  <li>JVM Stats</li>
  <li>Disk Status</li>
  <li>Snapshot status</li>
  <li>ES Port</li>
  <li>Memory</li>
  <li>Documents (searchable, deleted)</li>
</ul>

<h2 id="author">Author</h2>

<p>Rickk Barbosa (https://github.com/rickkbarbosa)</p>

<h2 id="macros-used">Macros used</h2>

<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$ELASTICSEARCH_HEAPMEM_P2}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">75</code>|Text macro|
|{$ELASTICSEARCH_HOST}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">localhost</code>|Text macro|
|{$ELASTICSEARCH_PORT}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">9200</code>|Text macro|
|{$ELASTICSEARCH_PROTOCOL}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">http</code>|Text macro|
|{$ELASTICSEARCH_SNAPSHOT}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">cs-automated-enc</code>|Text macro|
|{$ELASTICSEARCH_SNAPSHOTP_DAYS}|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">3</code>|Text macro|</p>
<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|ES Indexes discovery|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-indices.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.discovery.indexes&lt;p&gt;Update: 1m&lt;/p&gt;|
|ES Node discovery|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-nodes.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.discovery.nodes&lt;p&gt;Update: 1m&lt;/p&gt;|</p>
<h2 id="items-collected">Items collected</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|Elasticsearch - Cluster Status|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[status]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Indices Global Status|&lt;p&gt;Indices level stats provide statistics on different operations happening on an index. The API provides statistics on the index level scope (though most stats can also be retrieved using node level scope). Base for key performance indicator https://www.elastic.co/guide/en/elasticsearch/reference/6.4/indices-stats.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.indices[all,stats]&lt;p&gt;Update: 1m&lt;/p&gt;|
|Elasticsearch Disk Volume Free|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.disk[free]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of unassigned shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[unassigned_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Disk Free (%)|&lt;p&gt;Free disk volume (in percent)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|elasticsearch.disk[free,percent]&lt;p&gt;Update: 5m&lt;/p&gt;|
|Elasticsearch - Number of active shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[active_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Search rate|&lt;p&gt;Search operations per minute.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.performance[search]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Disk Volume|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.disk[all]&lt;p&gt;Update: 10m&lt;/p&gt;|
|Elasticsearch JVM Heap (Used, bytes)|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/heap-size.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.jvm[heap,used]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Memory (Average per Node)|&lt;p&gt;Total memory (sum of all nodes)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|elasticsearch.cluster.memory[total,pernode]&lt;p&gt;Update: 5m&lt;/p&gt;|
|Elasticsearch Cluster UUID|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[uuid]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch CPU Usage|&lt;p&gt;CPU Usage in percent on Cluster. It checks all node.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cpu&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of relocating shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[relocating_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of active primary shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[active_primary_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Cluster Size|&lt;p&gt;Total cluster size in bytes&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[size]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Disk Volume Total|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.disk[total]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of data nodes|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[cluster,number_of_data_nodes]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Search latency (ms)|&lt;p&gt;Average time that takes a shard to complete a search operation&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.performance[latency,search]&lt;p&gt;Update: 0&lt;/p&gt;|
|ES Snapshot Status|&lt;p&gt;A snapshot is a backup taken from a running Elasticsearch cluster. This presents how many snapshots exists in the last 3 days and how many has been succeed. https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-snapshots.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.snapshots[stats]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Elasticsearch Well-done Snapshots in last {$ELASTICSEARCH_SNAPSHOTP_DAYS} days|&lt;p&gt;Total snapshots in the last {$ELASTICSEARCH_SNAPSHOTP_DAYS} days that has been succeed&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.snapshots[ok]&lt;p&gt;Update: 0&lt;/p&gt;|
|Number of nodes|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[number_of_nodes]&lt;p&gt;Update: 0&lt;/p&gt;|
|Searchable documents|&lt;p&gt;Total Number of Records&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.records&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch port listen|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Simple check</code>|net.tcp.service[tcp,{$ELASTICSEARCH_HOST},{$ELASTICSEARCH_PORT}]&lt;p&gt;Update: 1m&lt;/p&gt;|
|Elasticsearch Snapshots in last {$ELASTICSEARCH_SNAPSHOTP_DAYS} days|&lt;p&gt;Total snapshots in the last 3 days&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.snapshots[total]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch JVM Heap (Max)|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/heap-size.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.jvm[heap,max]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Cluster Name|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[name]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Cluster Global Status|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.cluster[all,stats]&lt;p&gt;Update: 1m&lt;/p&gt;|
|Elasticsearch JVM Heap (Used, Percent)|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/heap-size.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|elasticsearch.jvm[heap,usedp]&lt;p&gt;Update: 5m&lt;/p&gt;|
|Elasticsearch - Indexing rate|&lt;p&gt;Number of index operations per minute.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.performance[index]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Cluster Health|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.cluster[all,health]&lt;p&gt;Update: 1m&lt;/p&gt;|
|Elasticsearch Memory Free|&lt;p&gt;Free memory on cluster (sum of all nodes)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.memory[free,cluster]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch Memory Free (%)|&lt;p&gt;Free memory in cluster (in percent)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|elasticsearch.memory[free,cluster,percentage]&lt;p&gt;Update: 5m&lt;/p&gt;|
|Elasticsearch Memory (Cluster)|&lt;p&gt;Total memory (sum of all nodes)&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.memory[total,cluster]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Indexing latency (ms)|&lt;p&gt;Average time that it takes a shard to complete and indexing operation&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.performance[latency,index]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch JVM Version|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.jvm[version]&lt;p&gt;Update: 0&lt;/p&gt;|
|Deleted documents|&lt;p&gt;Total Number of Records marked for deletion&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.deleted&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch - Number of initializing shards|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[initializing_shards]&lt;p&gt;Update: 0&lt;/p&gt;|
|Master instance connection status|&lt;p&gt;Master instance connection status. Indicates whether data nodes can reach the master node. Failures are usually the result of a network connectivity problem.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.cluster[discovered_master]&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch version|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.version&lt;p&gt;Update: 0&lt;/p&gt;|
|Elasticsearch index full info [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.index[all,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index documents [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[documents,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index documents deleted [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[documentsdeleted,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index health [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[health,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index latency [ {#ELASTICSEARCH_INDEX} ]  (ms)|&lt;p&gt;Average time that takes a shard to complete a search operation. Specific for a index.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[latency,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch queries [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;Number of queries on this index&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[queries,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index query latency [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;Search time in this index&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[querylatency,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch index size [ {#ELASTICSEARCH_INDEX} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.index[size,{#ELASTICSEARCH_INDEX}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch full allocation info [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;Provides a snapshot of the number of shards allocated to each data node and their disk space. https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.node.disk[all,{#ELASTICSEARCH_NODE}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch node [ {#ELASTICSEARCH_NODE} ] is master?|&lt;p&gt;Get information about master node. https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-master.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.node.master[{#ELASTICSEARCH_NODE}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch full stats for node [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;Full stats for specific node as seen on https://www.elastic.co/guide/en/elasticsearch/reference/6.2/cluster-nodes-stats.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">HTTP agent</code>|elasticsearch.node.query_cache[all,{#ELASTICSEARCH_NODE}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch CPU Load (1min)  [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.node[cpu1m,{#ELASTICSEARCH_NODE}]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch Storage Total [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.node[disk,{#ELASTICSEARCH_NODE},total]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch Storage Used (in %) [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.node[disk,{#ELASTICSEARCH_NODE},usedp]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Elasticsearch Storage Used [ {#ELASTICSEARCH_NODE} ]|&lt;p&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|elasticsearch.node[disk,{#ELASTICSEARCH_NODE},used]&lt;p&gt;Update: 0&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|</p>
<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>


      </div>
    
    <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    this.page.url = "https://zabbix.github.io/community-templates/templates/applications-template-elasticsearch/"; 
    this.page.identifier = "applications-template-elasticsearch"; 
    };
    (function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://zabbix-github-io-community-templates.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  <script>
    (function(){  
      console.log('#content_ver_5_4');
      console.log('#ver_5_4');
      $('.readme').hide();
      $('#content_ver_5_4').fadeIn('slow');
      $('#ver_5_4').addClass('active');

                
        $('#ver_5_0').click(function() {
        $('.readme').hide();
        $('#content_ver_5_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_0').addClass('active');
        })
                
        $('#ver_5_4').click(function() {
        $('.readme').hide();
        $('#content_ver_5_4').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_4').addClass('active');
        })
      
    })();
</script>
</body>
</html>