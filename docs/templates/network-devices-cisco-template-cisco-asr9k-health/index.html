<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Cisco ASR 9K Health SNMP</title>
  <link rel="stylesheet" href="/community-templates/assets/css/styles.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>

<body id="body">
  
  
  <a href="https://github.com/zabbix/community-templates/tree/main/Network_Devices/Cisco/template_cisco_asr9k_health">
  <section class="banner-integrations">
	<div class="w container conference-header" id="training_overview" style="padding-top: 60px; min-height: 150px;">
		<div class="banner-content" style="padding-left: 0; padding-bottom: 16px;">
			<h1 class="h1 center">Cisco ASR 9K Health SNMP</h1>
		</div>
		<!-- <div class="w container">
			<div class="content text">
				<div class="grid grid-space-category center">
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:network </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:servers </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:infrastructure </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">title:Cisco </a>
					</div>
					
				</div>
			</div>
		</div> -->
	</div>
</section>
  </a>
  <div class="w container">
    <h2 class="h2">Available versions</h2>
    <br>
    <div class="tabs-section">
      <div id="integrations_tabs" class="tabs">
        <ul>
          
          
          <li>
            <a class="js_tab" id="ver_5_0" href="#body">ver. 5.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_5_4" href="#body">ver. 5.4
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <br>
    <br>
              
      <div id="content_ver_5_0" class="readme">
        
        



<h1 id="cisco-asr-9k-health-snmp">Cisco ASR 9K Health SNMP</h1>

<h2 id="description">Description</h2>

<p>Template Cisco ASR 9k Health -CPU -Memory -Power Supply -Temperature ( RSP e LC ) -FAN ( FAN and FANTray ) -Power Consumption By: Flavio Gomes Figueira Camacho Junior Require: Firmware / Software .IOS XR 5.3.1 .IOS XR 5.3.4 ValueMap .CISCO-ENTITY-FRU-CONTROL-MIB::PowerOperType .ENTITY-SENSORS-MIB::EntitySensorStatus .CISCO-ENTITY-FRU-CONTROL-MIB::CefcFanTrayStatusEntry .CISCO-ENTITY-SENSOR-MIB::SensorStatus Base: CISCO-MEMORY-POOL-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-MEMORY-POOL-MIB.php CISCO-PROCESS-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-PROCESS-MIB.php ENTITY-MIB http://www.circitor.fr/Mibs/Html/E/ENTITY-MIB.php CISCO-ENTITY-FRU-CONTROL-MIB.mib https://circitor.fr/Mibs/Html/C/CISCO-ENTITY-FRU-CONTROL-MIB.php CISCO-ENTITY-SENSOR-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-ENTITY-SENSOR-MIB.php https://share.zabbix.com/network_devices/cisco/template-cisco-asr-9k External Scripts and Value Mapping on my Github: https://github.com/flaviojunior1995/Zabbix-Templates</p>

<h2 id="overview">Overview</h2>

<p>Template Cisco ASR 9k Health</p>

<p>-CPU</p>

<p>-Memory</p>

<p>-Power Supply</p>

<p>-Temperature ( RSP e LC )</p>

<p>-FAN ( FAN and FANTray )</p>

<p>-Power Consumption</p>

<p>By: Flavio Gomes Figueira Camacho Junior</p>

<p>Require:</p>

<p>Firmware / Software</p>

<p>.IOS XR 5.3.1</p>

<p>.IOS XR 5.3.4</p>

<p>ValueMap</p>

<p>.CISCO-ENTITY-FRU-CONTROL-MIB::PowerOperType</p>

<p>.CISCO-ENTITY-FRU-CONTROL-MIB::CefcFanTrayStatusEntry</p>

<p>.CISCO-ENTITY-SENSOR-MIB::SensorStatus</p>

<p>.ENTITY-SENSORS-MIB::EntitySensorStatus</p>

<p>Base:</p>

<p>CISCO-MEMORY-POOL-MIB.mib</p>

<p>http://www.circitor.fr/Mibs/Html/C/CISCO-MEMORY-POOL-MIB.php</p>

<p>CISCO-PROCESS-MIB.mib</p>

<p>http://www.circitor.fr/Mibs/Html/C/CISCO-PROCESS-MIB.php</p>

<p>ENTITY-MIB</p>

<p>http://www.circitor.fr/Mibs/Html/E/ENTITY-MIB.php</p>

<p>CISCO-ENTITY-FRU-CONTROL-MIB.mib</p>

<p>https://circitor.fr/Mibs/Html/C/CISCO-ENTITY-FRU-CONTROL-MIB.php</p>

<p>CISCO-ENTITY-SENSOR-MIB.mib</p>

<p>http://www.circitor.fr/Mibs/Html/C/CISCO-ENTITY-SENSOR-MIB.php</p>

<p>https://share.zabbix.com/network_devices/cisco/template-cisco-asr-9k</p>

<p>External Scripts and Value Mapping on my Github:</p>

<p>https://github.com/flaviojunior1995/Zabbix-Templates</p>

<h2 id="author">Author</h2>

<p>Flavio Camacho Junior</p>

<h2 id="macros-used">Macros used</h2>

<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$CPU_HIGH_ALARM}|&lt;p&gt;% maximum alarm cpu&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">80</code>|Text macro|
|{$CPU_HIGH_WARNING}|&lt;p&gt;% maximum warning cpu&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">70</code>|Text macro|
|{$MEMORY_HIGH_ALARM}|&lt;p&gt;% maximum alarm memory&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">80</code>|Text macro|
|{$MEMORY_HIGH_WARNING}|&lt;p&gt;% maximum warning memory&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">70</code>|Text macro|</p>
<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|FAN Sensor Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“FAN”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Power Supply Current (A) Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“Power Supply Current”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Power Supply Voltage (V) Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“Power Supply Voltage”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Power Supply Sensors Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“Power Supply”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|CPU Discovery|&lt;p&gt;CISCO-PROCESS-MIB::cpmCPUTotalPhysicalIndex The entPhysicalIndex of the physical entity for which the CPU statistics in this entry are maintained. The physical entity can be a CPU chip, a group of CPUs, a CPU card etc. The exact type of this entity is described by its entPhysicalVendorType value. If the CPU statistics in this entry correspond to more than one physical entity (or to no physical entity), or if the entPhysicalTable is not supported on the SNMP agent, the value of this object must be zero.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cpmCPUTotalPhysicalIndex[“CPU”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Temperature RSP Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“RSP”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Memory Pool Discovery|&lt;p&gt;CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolName A textual name assigned to the memory pool.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|ciscoMemoryPoolName[“Memory”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|FAN Tray Sensor Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“FAN Tray”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Temperature LC Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“LC”]&lt;p&gt;Update: 1h&lt;/p&gt;|</p>
<h2 id="items-collected">Items collected</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|Power Consumption|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|powerConsumption&lt;p&gt;Update: 1m&lt;/p&gt;|
|Status of FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX}|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorStatus This variable indicates the present operational status of the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Speed of FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX}|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorValue This variable reports the most recent measurement seen by the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorValue[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|”$1”|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalContainedInCurrent[”{#SNMPVALUE}”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|”$1”|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalContainedInVoltage[”{#SNMPVALUE}”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Current Supplied by PowerSupply “$1”|&lt;p&gt;CISCO-ENTITY-FRU-CONTROL-MIB::cefcFRUCurrent Current supplied by the FRU (positive values) or current required to operate the FRU (negative values).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cefcFRUCurrent[”{#SNMPVALUE}”,”Power Supply”]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Operational Status of PowerSupply “$1”|&lt;p&gt;CISCO-ENTITY-FRU-CONTROL-MIB::cefcFRUPowerOperStatus Operational FRU power state.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|CPU #$1 Usage 1min Rev|&lt;p&gt;CISCO-PROCESS-MIB::cpmCPUTotal1minRev The overall CPU busy percentage in the last 1 minute period. This object deprecates the object cpmCPUTotal1min and increases the value range to (0..100).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cpmCPUTotal1minRev[”{#SNMPINDEX}”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|CPU #$1 Usage 5min Rev|&lt;p&gt;CISCO-PROCESS-MIB::cpmCPUTotal5minRev The overall CPU busy percentage in the last 5 minute period. This object deprecates the object cpmCPUTotal5min and increases the value range to (0..100).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cpmCPUTotal5minRev[”{#SNMPINDEX}”]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Status of Temperature Sensor “$1”|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorStatus This variable indicates the present operational status of the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Thresholds::”$1” | Temperature Alarm|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature RSP”,”Alarm”]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Temperature on Sensor “$1”|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorValue This variable reports the most recent measurement seen by the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorValue[”{#SNMPVALUE}”,”Temperature RSP”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Free memory on Memory Pool “$1”|&lt;p&gt;CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolFree Indicates the number of bytes from the memory pool that are currently unused on the managed device.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|ciscoMemoryPoolFree[”{#SNMPVALUE}”]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Total Memory Pool “$1”|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|ciscoMemoryPoolTotal[”{#SNMPVALUE}”]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Used memory on Memory Pool “$1”|&lt;p&gt;CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolUsed Indicates the number of bytes from the memory pool that are currently in use by applications on the managed device.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|ciscoMemoryPoolUsed[”{#SNMPVALUE}”]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Utilization on Memory Pool “$1”|&lt;p&gt;CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolUtilization5Min This is the memory pool utilization for 5 minutes.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|ciscoMemoryPoolUtilization5Min[”{#SNMPVALUE}”]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Operational Status of “$1”|&lt;p&gt;CISCO-ENTITY-FRU-CONTROL-MIB::cefcFanTrayOperStatus The operational state of the fan or fan tray.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cefcFanTrayOperStatus[”{#SNMPVALUE}”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Status of Temperature Sensor “$1”|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorStatus This variable indicates the present operational status of the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Thresholds::”$1” | Temperature Alarm|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature LC”,”Alarm”]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Temperature on Sensor “$1”|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorValue This variable reports the most recent measurement seen by the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorValue[”{#SNMPVALUE}”,”Temperature LC”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|</p>
<h2 id="triggers">Triggers</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Expression</th>
      <th>Priority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>High memory utilizarion alarm on Pool “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ( {Cisco ASR 9K Health SNMP:ciscoMemoryPoolUsed[”{#SNMPVALUE}”].last()} * 100 ) / {Cisco ASR 9K Health SNMP:ciscoMemoryPoolTotal[”{#SNMPVALUE}”].last()} &gt; 80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High utilization of Memory Pool “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:ciscoMemoryPoolUtilization5Min[”{#SNMPVALUE}”].last()} &gt; 70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High CPU Alarm #{#SNMPINDEX} 1min Usage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cpmCPUTotal1minRev[”{#SNMPINDEX}”].last()}&gt;80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Warning  #{#SNMPINDEX} 1min Usage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cpmCPUTotal1minRev[”{#SNMPINDEX}”].last()}&gt;70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High CPU Alarm #{#SNMPINDEX} 5min Usage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cpmCPUTotal5minRev[”{#SNMPINDEX}”].last()}&gt;80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Warning #{#SNMPINDEX} 5min Usage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cpmCPUTotal5minRev[”{#SNMPINDEX}”].last()}&gt;70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX} is nonoperational</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}].last()}=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX} is unavailable</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}].last()}=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is in partial failure</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFanTrayOperStatus[”{#SNMPVALUE}”].last()}=4&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is powered down</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFanTrayOperStatus[”{#SNMPVALUE}”].last()}=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is unknown</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFanTrayOperStatus[”{#SNMPVALUE}”].last()}=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>High Temperature Alarm “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorValue[”{#SNMPVALUE}”,”Temperature LC”].last()}&gt;{Cisco ASR 9K Health SNMP:entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature LC”,”Alarm”].last()}&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is nonoperational</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”].last()}=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is unavailable</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”].last()}=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Connector rating exceeded on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=11&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Cooling capacity is insufficient on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=10&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>FAN failed on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=9&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>FAN problem on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=7&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Power problem on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=5&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Power Supply “{#SNMPVALUE}” is failed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=8 and {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=12&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Power Supply “{#SNMPVALUE}” is powered off</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>System power is insufficient on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=4&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature problem on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=6&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High Temperature Alarm “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorValue[”{#SNMPVALUE}”,”Temperature RSP”].last()}&gt;{Cisco ASR 9K Health SNMP:entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature RSP”,”Alarm”].last()}&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is nonoperational</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”].last()}=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is unavailable</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”].last()}=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX} is nonoperational (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}].last()}=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX} is unavailable (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}].last()}=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Connector rating exceeded on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=11&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Cooling capacity is insufficient on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=10&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>FAN failed on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=9&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>FAN problem on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=7&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Power problem on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=5&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Power Supply “{#SNMPVALUE}” is failed (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=8 and {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=12&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Power Supply “{#SNMPVALUE}” is powered off (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>System power is insufficient on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=4&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature problem on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”].last()}=6&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Alarm #{#SNMPINDEX} 1min Usage (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cpmCPUTotal1minRev[”{#SNMPINDEX}”].last()}&gt;80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Warning  #{#SNMPINDEX} 1min Usage (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cpmCPUTotal1minRev[”{#SNMPINDEX}”].last()}&gt;70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High CPU Alarm #{#SNMPINDEX} 5min Usage (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cpmCPUTotal5minRev[”{#SNMPINDEX}”].last()}&gt;80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Warning #{#SNMPINDEX} 5min Usage (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cpmCPUTotal5minRev[”{#SNMPINDEX}”].last()}&gt;70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High Temperature Alarm “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorValue[”{#SNMPVALUE}”,”Temperature RSP”].last()}&gt;{Cisco ASR 9K Health SNMP:entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature RSP”,”Alarm”].last()}&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is nonoperational (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”].last()}=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is unavailable (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”].last()}=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High memory utilizarion alarm on Pool “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ( {Cisco ASR 9K Health SNMP:ciscoMemoryPoolUsed[”{#SNMPVALUE}”].last()} * 100 ) / {Cisco ASR 9K Health SNMP:ciscoMemoryPoolTotal[”{#SNMPVALUE}”].last()} &gt; 80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High utilization of Memory Pool “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:ciscoMemoryPoolUtilization5Min[”{#SNMPVALUE}”].last()} &gt; 70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is in partial failure (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFanTrayOperStatus[”{#SNMPVALUE}”].last()}=4&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is powered down (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFanTrayOperStatus[”{#SNMPVALUE}”].last()}=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is unknown (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:cefcFanTrayOperStatus[”{#SNMPVALUE}”].last()}=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>High Temperature Alarm “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorValue[”{#SNMPVALUE}”,”Temperature LC”].last()}&gt;{Cisco ASR 9K Health SNMP:entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature LC”,”Alarm”].last()}&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is nonoperational (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”].last()}=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is unavailable (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Cisco ASR 9K Health SNMP:entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”].last()}=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
  </tbody>
</table>


      </div>
              
      <div id="content_ver_5_4" class="readme">
        
        



<h1 id="cisco-asr-9k-health-snmp">Cisco ASR 9K Health SNMP</h1>

<h2 id="description">Description</h2>

<p>Template Cisco ASR 9k Health -CPU -Memory -Power Supply -Temperature ( RSP e LC ) -FAN ( FAN and FANTray ) -Power Consumption By: Flavio Gomes Figueira Camacho Junior Require: Firmware / Software .IOS XR 5.3.1 .IOS XR 5.3.4 ValueMap .CISCO-ENTITY-FRU-CONTROL-MIB::PowerOperType .ENTITY-SENSORS-MIB::EntitySensorStatus .CISCO-ENTITY-FRU-CONTROL-MIB::CefcFanTrayStatusEntry .CISCO-ENTITY-SENSOR-MIB::SensorStatus Base: CISCO-MEMORY-POOL-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-MEMORY-POOL-MIB.php CISCO-PROCESS-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-PROCESS-MIB.php ENTITY-MIB http://www.circitor.fr/Mibs/Html/E/ENTITY-MIB.php CISCO-ENTITY-FRU-CONTROL-MIB.mib https://circitor.fr/Mibs/Html/C/CISCO-ENTITY-FRU-CONTROL-MIB.php CISCO-ENTITY-SENSOR-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-ENTITY-SENSOR-MIB.php https://share.zabbix.com/network_devices/cisco/template-cisco-asr-9k External Scripts and Value Mapping on my Github: https://github.com/flaviojunior1995/Zabbix-Templates</p>

<h2 id="overview">Overview</h2>

<p>Template Cisco ASR 9k Health</p>

<p>-CPU</p>

<p>-Memory</p>

<p>-Power Supply</p>

<p>-Temperature ( RSP e LC )</p>

<p>-FAN ( FAN and FANTray )</p>

<p>-Power Consumption</p>

<p>By: Flavio Gomes Figueira Camacho Junior</p>

<p>Require:</p>

<p>Firmware / Software</p>

<p>.IOS XR 5.3.1</p>

<p>.IOS XR 5.3.4</p>

<p>ValueMap</p>

<p>.CISCO-ENTITY-FRU-CONTROL-MIB::PowerOperType</p>

<p>.CISCO-ENTITY-FRU-CONTROL-MIB::CefcFanTrayStatusEntry</p>

<p>.CISCO-ENTITY-SENSOR-MIB::SensorStatus</p>

<p>.ENTITY-SENSORS-MIB::EntitySensorStatus</p>

<p>Base:</p>

<p>CISCO-MEMORY-POOL-MIB.mib</p>

<p>http://www.circitor.fr/Mibs/Html/C/CISCO-MEMORY-POOL-MIB.php</p>

<p>CISCO-PROCESS-MIB.mib</p>

<p>http://www.circitor.fr/Mibs/Html/C/CISCO-PROCESS-MIB.php</p>

<p>ENTITY-MIB</p>

<p>http://www.circitor.fr/Mibs/Html/E/ENTITY-MIB.php</p>

<p>CISCO-ENTITY-FRU-CONTROL-MIB.mib</p>

<p>https://circitor.fr/Mibs/Html/C/CISCO-ENTITY-FRU-CONTROL-MIB.php</p>

<p>CISCO-ENTITY-SENSOR-MIB.mib</p>

<p>http://www.circitor.fr/Mibs/Html/C/CISCO-ENTITY-SENSOR-MIB.php</p>

<p>https://share.zabbix.com/network_devices/cisco/template-cisco-asr-9k</p>

<p>External Scripts and Value Mapping on my Github:</p>

<p>https://github.com/flaviojunior1995/Zabbix-Templates</p>

<h2 id="author">Author</h2>

<p>Flavio Camacho Junior</p>

<h2 id="macros-used">Macros used</h2>

<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$CPU_HIGH_ALARM}|&lt;p&gt;% maximum alarm cpu&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">80</code>|Text macro|
|{$CPU_HIGH_WARNING}|&lt;p&gt;% maximum warning cpu&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">70</code>|Text macro|
|{$MEMORY_HIGH_ALARM}|&lt;p&gt;% maximum alarm memory&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">80</code>|Text macro|
|{$MEMORY_HIGH_WARNING}|&lt;p&gt;% maximum warning memory&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">70</code>|Text macro|</p>
<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|CPU Discovery|&lt;p&gt;CISCO-PROCESS-MIB::cpmCPUTotalPhysicalIndex The entPhysicalIndex of the physical entity for which the CPU statistics in this entry are maintained. The physical entity can be a CPU chip, a group of CPUs, a CPU card etc. The exact type of this entity is described by its entPhysicalVendorType value. If the CPU statistics in this entry correspond to more than one physical entity (or to no physical entity), or if the entPhysicalTable is not supported on the SNMP agent, the value of this object must be zero.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cpmCPUTotalPhysicalIndex[“CPU”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Temperature RSP Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“RSP”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Power Supply Current (A) Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“Power Supply Current”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|FAN Sensor Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“FAN”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Memory Pool Discovery|&lt;p&gt;CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolName A textual name assigned to the memory pool.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|ciscoMemoryPoolName[“Memory”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Power Supply Sensors Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“Power Supply”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Power Supply Voltage (V) Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“Power Supply Voltage”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|Temperature LC Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“LC”]&lt;p&gt;Update: 1h&lt;/p&gt;|
|FAN Tray Sensor Discovery|&lt;p&gt;The textual name of the physical entity.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalName[“FAN Tray”]&lt;p&gt;Update: 1h&lt;/p&gt;|</p>
<h2 id="items-collected">Items collected</h2>

<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|Power Consumption|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|powerConsumption&lt;p&gt;Update: 1m&lt;/p&gt;|
|CPU #$1 Usage 1min Rev|&lt;p&gt;CISCO-PROCESS-MIB::cpmCPUTotal1minRev The overall CPU busy percentage in the last 1 minute period. This object deprecates the object cpmCPUTotal1min and increases the value range to (0..100).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cpmCPUTotal1minRev[”{#SNMPINDEX}”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|CPU #$1 Usage 5min Rev|&lt;p&gt;CISCO-PROCESS-MIB::cpmCPUTotal5minRev The overall CPU busy percentage in the last 5 minute period. This object deprecates the object cpmCPUTotal5min and increases the value range to (0..100).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cpmCPUTotal5minRev[”{#SNMPINDEX}”]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Status of Temperature Sensor “$1”|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorStatus This variable indicates the present operational status of the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Thresholds::”$1” | Temperature Alarm|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature RSP”,”Alarm”]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Temperature on Sensor “$1”|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorValue This variable reports the most recent measurement seen by the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorValue[”{#SNMPVALUE}”,”Temperature RSP”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|”$1”|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalContainedInCurrent[”{#SNMPVALUE}”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Status of FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX}|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorStatus This variable indicates the present operational status of the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Speed of FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX}|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorValue This variable reports the most recent measurement seen by the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorValue[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Free memory on Memory Pool “$1”|&lt;p&gt;CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolFree Indicates the number of bytes from the memory pool that are currently unused on the managed device.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|ciscoMemoryPoolFree[”{#SNMPVALUE}”]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Total Memory Pool “$1”|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Calculated</code>|ciscoMemoryPoolTotal[”{#SNMPVALUE}”]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Used memory on Memory Pool “$1”|&lt;p&gt;CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolUsed Indicates the number of bytes from the memory pool that are currently in use by applications on the managed device.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|ciscoMemoryPoolUsed[”{#SNMPVALUE}”]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Utilization on Memory Pool “$1”|&lt;p&gt;CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolUtilization5Min This is the memory pool utilization for 5 minutes.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|ciscoMemoryPoolUtilization5Min[”{#SNMPVALUE}”]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Current Supplied by PowerSupply “$1”|&lt;p&gt;CISCO-ENTITY-FRU-CONTROL-MIB::cefcFRUCurrent Current supplied by the FRU (positive values) or current required to operate the FRU (negative values).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cefcFRUCurrent[”{#SNMPVALUE}”,”Power Supply”]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Operational Status of PowerSupply “$1”|&lt;p&gt;CISCO-ENTITY-FRU-CONTROL-MIB::cefcFRUPowerOperStatus Operational FRU power state.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|”$1”|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entPhysicalContainedInVoltage[”{#SNMPVALUE}”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Status of Temperature Sensor “$1”|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorStatus This variable indicates the present operational status of the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Thresholds::”$1” | Temperature Alarm|&lt;p&gt;-&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature LC”,”Alarm”]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Temperature on Sensor “$1”|&lt;p&gt;CISCO-ENTITY-SENSOR-MIB::entSensorValue This variable reports the most recent measurement seen by the sensor.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|entSensorValue[”{#SNMPVALUE}”,”Temperature LC”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|
|Operational Status of “$1”|&lt;p&gt;CISCO-ENTITY-FRU-CONTROL-MIB::cefcFanTrayOperStatus The operational state of the fan or fan tray.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">SNMP agent</code>|cefcFanTrayOperStatus[”{#SNMPVALUE}”]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;|</p>
<h2 id="triggers">Triggers</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Expression</th>
      <th>Priority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>High memory utilizarion alarm on Pool “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ( last(/Cisco ASR 9K Health SNMP/ciscoMemoryPoolUsed[”{#SNMPVALUE}”]) * 100 ) / last(/Cisco ASR 9K Health SNMP/ciscoMemoryPoolTotal[”{#SNMPVALUE}”]) &gt; 80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High utilization of Memory Pool “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/ciscoMemoryPoolUtilization5Min[”{#SNMPVALUE}”]) &gt; 70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High CPU Alarm #{#SNMPINDEX} 1min Usage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cpmCPUTotal1minRev[”{#SNMPINDEX}”])&gt;80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Warning  #{#SNMPINDEX} 1min Usage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cpmCPUTotal1minRev[”{#SNMPINDEX}”])&gt;70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High CPU Alarm #{#SNMPINDEX} 5min Usage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cpmCPUTotal5minRev[”{#SNMPINDEX}”])&gt;80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Warning #{#SNMPINDEX} 5min Usage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cpmCPUTotal5minRev[”{#SNMPINDEX}”])&gt;70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX} is nonoperational</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}])=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX} is unavailable</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}])=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is in partial failure</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFanTrayOperStatus[”{#SNMPVALUE}”])=4&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is powered down</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFanTrayOperStatus[”{#SNMPVALUE}”])=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is unknown</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFanTrayOperStatus[”{#SNMPVALUE}”])=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>High Temperature Alarm “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorValue[”{#SNMPVALUE}”,”Temperature LC”])&gt;last(/Cisco ASR 9K Health SNMP/entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature LC”,”Alarm”])&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is nonoperational</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”])=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is unavailable</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”])=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Connector rating exceeded on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=11&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Cooling capacity is insufficient on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=10&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>FAN failed on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=9&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>FAN problem on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=7&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Power problem on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=5&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Power Supply “{#SNMPVALUE}” is failed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=8 and last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=12&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Power Supply “{#SNMPVALUE}” is powered off</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>System power is insufficient on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=4&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature problem on Power Supply “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=6&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High Temperature Alarm “{#SNMPVALUE}”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorValue[”{#SNMPVALUE}”,”Temperature RSP”])&gt;last(/Cisco ASR 9K Health SNMP/entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature RSP”,”Alarm”])&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is nonoperational</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”])=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is unavailable</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”])=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High CPU Alarm #{#SNMPINDEX} 1min Usage (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cpmCPUTotal1minRev[”{#SNMPINDEX}”])&gt;80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Warning  #{#SNMPINDEX} 1min Usage (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cpmCPUTotal1minRev[”{#SNMPINDEX}”])&gt;70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High CPU Alarm #{#SNMPINDEX} 5min Usage (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cpmCPUTotal5minRev[”{#SNMPINDEX}”])&gt;80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High CPU Warning #{#SNMPINDEX} 5min Usage (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cpmCPUTotal5minRev[”{#SNMPINDEX}”])&gt;70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High Temperature Alarm “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorValue[”{#SNMPVALUE}”,”Temperature RSP”])&gt;last(/Cisco ASR 9K Health SNMP/entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature RSP”,”Alarm”])&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is nonoperational (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”])=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is unavailable (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,”Temperature RSP”])=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX} is nonoperational (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}])=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>FAN Sensor “{#SNMPVALUE}”/{#SNMPINDEX} is unavailable (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,FAN,{#SNMPINDEX}])=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>High memory utilizarion alarm on Pool “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ( last(/Cisco ASR 9K Health SNMP/ciscoMemoryPoolUsed[”{#SNMPVALUE}”]) * 100 ) / last(/Cisco ASR 9K Health SNMP/ciscoMemoryPoolTotal[”{#SNMPVALUE}”]) &gt; 80&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High utilization of Memory Pool “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/ciscoMemoryPoolUtilization5Min[”{#SNMPVALUE}”]) &gt; 70&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Connector rating exceeded on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=11&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Cooling capacity is insufficient on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=10&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>FAN failed on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=9&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>FAN problem on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=7&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Power problem on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=5&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Power Supply “{#SNMPVALUE}” is failed (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=8 and last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=12&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Power Supply “{#SNMPVALUE}” is powered off (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>System power is insufficient on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=4&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature problem on Power Supply “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFRUPowerOperStatus[”{#SNMPVALUE}”,”Power Supply”])=6&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>High Temperature Alarm “{#SNMPVALUE}” (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorValue[”{#SNMPVALUE}”,”Temperature LC”])&gt;last(/Cisco ASR 9K Health SNMP/entSensorThresholdValue[”{#SNMPVALUE}”,”Temperature LC”,”Alarm”])&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is nonoperational (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”])=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Temperature Sensor “{#SNMPVALUE}” is unavailable (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/entSensorStatus[”{#SNMPVALUE}”,”Temperature LC”])=2&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is in partial failure (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFanTrayOperStatus[”{#SNMPVALUE}”])=4&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is powered down (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFanTrayOperStatus[”{#SNMPVALUE}”])=3&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>Status of “{#SNMPVALUE}” is unknown (LLD)</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Cisco ASR 9K Health SNMP/cefcFanTrayOperStatus[”{#SNMPVALUE}”])=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
  </tbody>
</table>


      </div>
    
    <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    this.page.url = "https://zabbix.github.io/community-templates/templates/network-devices-cisco-template-cisco-asr9k-health/"; 
    this.page.identifier = "network-devices-cisco-template-cisco-asr9k-health"; 
    };
    (function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://zabbix-github-io-community-templates.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  <script>
    (function(){  
      console.log('#content_ver_5_4');
      console.log('#ver_5_4');
      $('.readme').hide();
      $('#content_ver_5_4').fadeIn('slow');
      $('#ver_5_4').addClass('active');

                
        $('#ver_5_0').click(function() {
        $('.readme').hide();
        $('#content_ver_5_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_0').addClass('active');
        })
                
        $('#ver_5_4').click(function() {
        $('.readme').hide();
        $('#content_ver_5_4').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_4').addClass('active');
        })
      
    })();
</script>
</body>
</html>